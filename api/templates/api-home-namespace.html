{% extends 'api-home-base.html' %}

{%  block content-nav  %}
<div class="nav-item active">
    接口管理
</div>
<div class="nav-item active">
    {{  current_namespace  }}
</div>
{%  endblock  %}


{%  block main-content  %}

<div class="dao-view-main image-list">
    <div class="dao-view-sidebar">
        <div class="dao-list-group-container">
            <ul class="dao-list-group">
                    <li class="dao-list-item">
                        <a href="/api/home" class="a-detive">
                            <span class="part-overflow-wrapper pr-sm">
                                <span class="part-overflow-ellipsis text-ellipsis">
                                                All
                                </span>
                            </span>
                            <span class="icon">
                                        >
                            </span>
                        </a>
                    </li>
            </ul>
            <ul class="dao-list-group  image-namespace-list">
              {% for item in namespace_list %}
                    {%  ifequal current_namespace item.namespace  %}
                        <li class="dao-list-item  active">
                            <a href="/api/home/{{  item.pk }}" class="a-active">
                            {%  else  %}
                        <li class="dao-list-item">
                            <a href="/api/home/{{  item.pk }}" class="a-detive">
                    {%  endifequal  %}

                            <div>
                                <span class="part-overflow-wrapper pr-sm">
                                    <span class="part-overflow-ellipsis text-ellipsis">

                                        {{  item.namespace }}

                                    </span>
                                </span>
                                <span class="icon">
                                    >
                                </span>
                            </div>
                        </a>
                    </li>
                {% endfor %}
            </ul>
            <div class="dao-btn has-icon blue" onclick="showCreateNameSpace()">
                <svg class="icon">
                    <use xlink:href="#icon_plus">
                        <svg viewBox="0 0 16 16" id="icon_plus" width="100%" height="100%">
                            <polygon points="15 7 9 7 9 1 7 1 7 7 1 7 1 9 7 9 7 15 9 15 9 9 15 9 15 7"></polygon>
                        </svg>
                    </use>
                </svg>
                <span class="text">Create NameSpace</span>
            </div>

        </div>

    </div>
    <div class="dao-view-content">
        <div class="dao-tab right">
            <div class="dao-tab__header">
                <ul class="dao-tab-nav dao-tab-nav-tab">
                    <li class="dao-tab-nav-item active">
                        Project List
                    </li>
                </ul>
            </div>
            <div class="dao-tab__body">
                <div class="dao-tab-item">
                    <div class="dao-table-container image-list">
                        <div  class="dao-table-toolbar mt-xs">
                            <div  class="dao-tooltip">
                                <div  class="dao-tooltip-rel">
                                    <button  class="dao-btn blue  has-icon" onclick="showCreateProject()">
                                        <svg class="icon">
                                            <use xlink:href="#icon_plus">
                                                <svg viewBox="0 0 16 16" id="icon_plus" width="100%" height="100%">
                                                    <polygon points="15 7 9 7 9 1 7 1 7 7 1 7 1 9 7 9 7 15 9 15 9 9 15 9 15 7"></polygon>
                                                </svg>
                                            </use>
                                        </svg>
                                        <span class="text">Create Project</span>
                                    </button>
                                </div>
                            </div>
                            <div class="table-filters">
                                <div class="dao-input-container search">
                                    <div class="dao-input-inner">
                                        <div data-v-1b1a87aa="" class="dao-popover hide">
                                            <div data-v-1b1a87aa="" class="dao-popover-rel">
                                                <input data-v-1b1a87aa="" required="required" type="text" messageplacement="top-end" search="true" status="" appendtobody="true" showtooltiponlyhover="true" helpertext="按回车键搜索" placeholder="search">
                                            </div>
                                            <div data-v-1b1a87aa="" class="dao-popover-popper" style="display: none;">
                                                <div data-v-1b1a87aa="" class="dao-popover-arrow">
                                                    <svg data-v-1b1a87aa="" viewBox="0 0 30 30">
                                                        <path data-v-1b1a87aa="" d="M8.11 6.302c1.015-.936 1.887-2.922 1.887-4.297v26c0-1.378-.868-3.357-1.888-4.297L.925 17.09c-1.237-1.14-1.233-3.034 0-4.17L8.11 6.302z" fill-opacity="0.1" class="pt-popover-arrow-border">
                                                        </path>
                                                        <path data-v-1b1a87aa="" d="M8.787 7.036c1.22-1.125 2.21-3.376 2.21-5.03V0v30-2.005c0-1.654-.983-3.9-2.21-5.03l-7.183-6.616c-.81-.746-.802-1.96 0-2.7l7.183-6.614z" class="pt-popover-arrow-fill">
                                                        </path>
                                                    </svg>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <table class="dao-table slat">
                            <thead>
                            <tr>
                                <th class="name th-name">
                                    <svg>
                                        <use xlink:href="#icon_docker-image">
                                            <svg viewBox="0 0 32 32" id="icon_docker-image" width="100%" height="100%">
                                                <g>
                                                    <path d="M28,6V30H4V2H24V0H4A2,2,0,0,0,2,2V30a2,2,0,0,0,2,2H28a2,2,0,0,0,2-2V6Z"></path>
                                                    <polygon points="16.5 17.141 16.5 23.563 22 20.354 22 13.933 16.5 17.141"></polygon>
                                                    <polygon points="16 16.275 21.504 13.065 16 9.854 10.496 13.065 16 16.275"></polygon>
                                                    <polygon points="15.5 17.141 10 13.933 10 20.354 15.5 23.563 15.5 17.141"></polygon>
                                                    <path d="M25,0V2.9A2.1,2.1,0,0,0,27.1,5H30Z"></path>
                                                </g>
                                            </svg>
                                        </use>
                                    </svg>
                                    <span>
                                        Project name
                                    </span>
                                </th>
                                <th class="addr">
                                    <svg>
                                        <use xlink:href="#icon_node">
                                            <svg viewBox="0 0 64 64" id="icon_node" width="100%" height="100%">
                                                <g>
                                                    <g>
                                                        <rect x="10" y="12" width="4" height="4" opacity="0.25"></rect>
                                                        <rect x="50.95" y="10.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="46.95" y="10.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="42.95" y="10.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="42.95" y="14.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="46.95" y="14.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="50.95" y="14.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="38.95" y="10.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="38.95" y="14.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="34.95" y="10.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="34.95" y="14.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="30.95" y="10.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="30.95" y="14.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                    </g>
                                                    <path d="M57.9,6H6.1A2.1,2.1,0,0,0,4,8.1V19.9A2.1,2.1,0,0,0,6.1,22H57.9A2.1,2.1,0,0,0,60,19.9V8.1A2.1,2.1,0,0,0,57.9,6ZM14,16H10V12h4v4Zm18,1.05A1.05,1.05,0,1,1,33.05,16,1.05,1.05,0,0,1,32,17.05Zm0-4A1.05,1.05,0,1,1,33.05,12,1.05,1.05,0,0,1,32,13.05Zm4,4A1.05,1.05,0,1,1,37.05,16,1.05,1.05,0,0,1,36,17.05Zm0-4A1.05,1.05,0,1,1,37.05,12,1.05,1.05,0,0,1,36,13.05Zm4,4A1.05,1.05,0,1,1,41.05,16,1.05,1.05,0,0,1,40,17.05Zm0-4A1.05,1.05,0,1,1,41.05,12,1.05,1.05,0,0,1,40,13.05Zm4,4A1.05,1.05,0,1,1,45.05,16,1.05,1.05,0,0,1,44,17.05Zm0-4A1.05,1.05,0,1,1,45.05,12,1.05,1.05,0,0,1,44,13.05Zm4,4A1.05,1.05,0,1,1,49.05,16,1.05,1.05,0,0,1,48,17.05Zm0-4A1.05,1.05,0,1,1,49.05,12,1.05,1.05,0,0,1,48,13.05Zm4,4A1.05,1.05,0,1,1,53.05,16,1.05,1.05,0,0,1,52,17.05Zm0-4A1.05,1.05,0,1,1,53.05,12,1.05,1.05,0,0,1,52,13.05Z" opacity="0.9"></path>
                                                    <g>
                                                        <rect x="10" y="30" width="4" height="4" opacity="0.25"></rect>
                                                        <rect x="50.95" y="28.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="46.95" y="28.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="42.95" y="28.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="42.95" y="32.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="46.95" y="32.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="50.95" y="32.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="38.95" y="28.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="38.95" y="32.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="34.95" y="28.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="34.95" y="32.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="30.95" y="28.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="30.95" y="32.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                    </g>
                                                    <path d="M57.9,24H6.1A2.1,2.1,0,0,0,4,26.1V37.9A2.1,2.1,0,0,0,6.1,40H57.9A2.1,2.1,0,0,0,60,37.9V26.1A2.1,2.1,0,0,0,57.9,24ZM14,34H10V30h4v4Zm18,1.05A1.05,1.05,0,1,1,33.05,34,1.05,1.05,0,0,1,32,35.05Zm0-4A1.05,1.05,0,1,1,33.05,30,1.05,1.05,0,0,1,32,31.05Zm4,4A1.05,1.05,0,1,1,37.05,34,1.05,1.05,0,0,1,36,35.05Zm0-4A1.05,1.05,0,1,1,37.05,30,1.05,1.05,0,0,1,36,31.05Zm4,4A1.05,1.05,0,1,1,41.05,34,1.05,1.05,0,0,1,40,35.05Zm0-4A1.05,1.05,0,1,1,41.05,30,1.05,1.05,0,0,1,40,31.05Zm4,4A1.05,1.05,0,1,1,45.05,34,1.05,1.05,0,0,1,44,35.05Zm0-4A1.05,1.05,0,1,1,45.05,30,1.05,1.05,0,0,1,44,31.05Zm4,4A1.05,1.05,0,1,1,49.05,34,1.05,1.05,0,0,1,48,35.05Zm0-4A1.05,1.05,0,1,1,49.05,30,1.05,1.05,0,0,1,48,31.05Zm4,4A1.05,1.05,0,1,1,53.05,34,1.05,1.05,0,0,1,52,35.05Zm0-4A1.05,1.05,0,1,1,53.05,30,1.05,1.05,0,0,1,52,31.05Z" opacity="0.9"></path>
                                                    <g>
                                                        <rect x="50.95" y="46.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="46.95" y="46.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="42.95" y="46.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="42.95" y="50.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="46.95" y="50.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="50.95" y="50.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="10" y="48" width="4" height="4" opacity="0.25"></rect>
                                                        <rect x="38.95" y="46.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="38.95" y="50.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="34.95" y="46.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="34.95" y="50.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="30.95" y="46.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                        <rect x="30.95" y="50.95" width="2.1" height="2.1" rx="1.05" ry="1.05" opacity="0.5"></rect>
                                                    </g>
                                                    <path d="M57.9,42H6.1A2.1,2.1,0,0,0,4,44.1V55.9A2.1,2.1,0,0,0,6.1,58H57.9A2.1,2.1,0,0,0,60,55.9V44.1A2.1,2.1,0,0,0,57.9,42ZM14,52H10V48h4v4Zm18,1.05A1.05,1.05,0,1,1,33.05,52,1.05,1.05,0,0,1,32,53.05Zm0-4A1.05,1.05,0,1,1,33.05,48,1.05,1.05,0,0,1,32,49.05Zm4,4A1.05,1.05,0,1,1,37.05,52,1.05,1.05,0,0,1,36,53.05Zm0-4A1.05,1.05,0,1,1,37.05,48,1.05,1.05,0,0,1,36,49.05Zm4,4A1.05,1.05,0,1,1,41.05,52,1.05,1.05,0,0,1,40,53.05Zm0-4A1.05,1.05,0,1,1,41.05,48,1.05,1.05,0,0,1,40,49.05Zm4,4A1.05,1.05,0,1,1,45.05,52,1.05,1.05,0,0,1,44,53.05Zm0-4A1.05,1.05,0,1,1,45.05,48,1.05,1.05,0,0,1,44,49.05Zm4,4A1.05,1.05,0,1,1,49.05,52,1.05,1.05,0,0,1,48,53.05Zm0-4A1.05,1.05,0,1,1,49.05,48,1.05,1.05,0,0,1,48,49.05Zm4,4A1.05,1.05,0,1,1,53.05,52,1.05,1.05,0,0,1,52,53.05Zm0-4A1.05,1.05,0,1,1,53.05,48,1.05,1.05,0,0,1,52,49.05Z" opacity="0.9"></path>
                                                </g>
                                            </svg>
                                        </use>
                                    </svg>
                                    <span>host</span>
                                </th>
                                <th class="status">
                                    <svg>
                                        <use xlink:href="#icon_status">

                                        </use>
                                    </svg>
                                    <span>详情</span>
                                </th>
                                <th class="operation-inDCEReg">

                                </th>
                            </tr>
                            </thead>
                            <tbody>

                            {% for project in project_query %}
                                           <tr class="">
                                <td class="name td-name">
                                    <div class="item-logo-text">
                                        <div class="item-major">
                                            <span class="text-inner">
                                                <a href="/api/home/{{ project.namespace.pk }}/{{ project.id }}" class="">
                                                    {{ project.project_name }}
                                                </a>
                                            </span> <!---->
                                            <a href="https://github.com/DaoCloud/dao-2048.git" target="_blank" class="ml-xs">
                                                <svg>
                                                    <use xlink:href="#icon_github">
                                                    </use>
                                                </svg>
                                            </a>
                                        </div> <!---->
                                    </div>
                                </td>
                                <td class="addr">
                                    <div class="item-link item-major text-left">
                                        {{ project.project_host }}
                                    </div>
                                </td> <!---->
                                <td class="status no-build-flow">
                                    <div class="item-minor">
                                        {{ project.project_description }}
                                    </div>
                                </td>
                                <td class="operation-inDCEReg">
                                    <div class="dao-btn-group">
                                        <button class="dao-btn ghost has-icon">
                                            <span class="text">
                                                Swagger
                                            </span>
                                            <span data-v-1789a352="" class="auth-helper"><!---->
                                            </span>
                                        </button>
                                        <button class="dao-btn ghost has-icon">
                                            <span class="text">
                                                <a href="/api/home/{{ project.namespace.pk }}/{{ project.id }}">
                                                    Api_list
                                                </a>
                                            </span>
                                            <span data-v-1789a352="" class="auth-helper auth">
                                                <!---->
                                            </span>
                                        </button>
                                    </div>
                                </td> <!---->
                            </tr>
                            {% endfor %}
        </tbody> <!----> <!----></table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


{#    创建NameSpace弹框#}
<div id="createNameSpace" class="dao-dialog-backdrop" style="display: none">
    <div class="dao-dialog-padding-block" style="height: 100px"></div>
    <div class="dao-dialog-container" style="width: 600px">
        <div class="dao-dialog-header">
            <span class="center">Create NameSpace</span>
        </div>
        <div class="dao-dialog-body">
            <div class="dao-setting-section">
                <div class="dao-setting-item">
                    <div class="dao-setting-label">
                        <div>name</div>
                    </div>
                    <div class="dao-setting-content">
                        <div>
                            <div class="dao-input-container icon-inside">
                                <div class="dao-input-inner">
                                    <div class="dao-popover-rel">
                                        <input type="text" placeholder="e.g.:my-space" id="input-namespace">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="dao-dialog-footer">
            <div>
                <button class="dao-btn ghost" onclick="hiddenCreateNameSpace()">cancel</button>
                <button class="dao-btn blue" onclick="createCreateNameSpace()">create</button>
            </div>
        </div>
    </div>
    <div class="dao-dialog-padding-block" style="height: 20px"></div>

</div>

{#    创建Project弹框#}
<div id="createProject" class="create-repo-dialog" style="display: none">
    <div class="dao-dialog-backdrop">
        <div class="dao-dialog-padding-block" style="height: 100px;">

        </div>
        <div class="dao-dialog-container multistep-dialog" style="width: 800px;">
            <div class="dao-dialog-header">
                <span class="center">
                    Create Project
                </span>
            </div>
            <form method="post" action="/api/create_project/" class="form-horizontal">
                {% csrf_token %}
                <div class="dao-dialog-body">
                <div class="multistep-wrap" style="width: 100%; height: 500px; transform: translateX(0%);">
                    <div class="multistep-step">
                        <div class="dao-setting-layout">
                            <div class="dao-setting-section">
                                <div class="dao-setting-item">
                                    <div class="create-project-label">
                                        NameSpace
                                    </div>
                                    <div class="create-project-label">
                                        {{ create_project_form.namespace }}
                                    </div>
                                    <div class="create-project-label">
                                        创建项目类型
                                    </div>
                                    <div>
                                        {{ create_project_form.project_document_type }}
                                    </div>
                                </div>
                                <div class="dao-setting-item">
                                    <div class="create-project-label">
                                        项目名称
                                    </div>
                                    <div style="width: 400px">
                                        {{  create_project_form.project_name  }}
                                    </div>
                                </div>
                                <div class="dao-setting-item">
                                    <div class="create-project-label">
                                        host
                                    </div>
                                    <div style="width: 400px">
                                        {{  create_project_form.project_host  }}
                                    </div>
                                </div>
                                <div class="dao-setting-item">
                                    <div class="create-project-label">
                                        项目描述
                                    </div>
                                    <div style="width: 400px">
                                        {{  create_project_form.project_description  }}
                                    </div>
                                </div>
{#                                <div class="dao-setting-item">#}
{#                                    <div class="create-project-label">#}
{#                                        Swagger_url#}
{#                                    </div>#}
{#                                    <div style="width: 400px">#}
{#                                        {{  create_project_form.swagger_url  }}#}
{#                                    </div>#}
{#                                </div>#}
                            </div>


                        </div>
                    </div>
                </div>
            </div>
                            <div class="dao-dialog-footer">
                <div>
                    <button class="dao-btn ghost" onclick="hiddenCreateProject()">
                        cancel
                    </button>
                    <button class="dao-btn blue" type="submit" name="submin_create_project">
                        Create
                    </button>

            </form>

                    </div></div> <!----></div> <div class="dao-dialog-padding-block" style="height: 20px;"></div></div></div>


{%  endblock  %}




